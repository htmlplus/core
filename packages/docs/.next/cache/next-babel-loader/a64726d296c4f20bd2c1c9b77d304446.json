{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\mine\\\\htmlplus\\\\core\\\\packages\\\\docs\\\\src\\\\components\\\\drawer\\\\drawer.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Utils } from 'utils';\nimport styles from './drawer.module.scss';\nexport const Drawer = ({\n  children,\n  open,\n  onClose\n}) => {\n  _s();\n\n  const timeout = useRef(null);\n  const {\n    0: active,\n    1: setActive\n  } = useState(false);\n\n  const resize = event => {\n    if (!open) return;\n    if (event.target.innerWidth < 1024) return;\n    close();\n  };\n\n  useEffect(() => {\n    if (!open) {\n      setActive(false);\n    } else {\n      window.addEventListener('resize', resize);\n      timeout.current = setTimeout(() => setActive(true), 100);\n    }\n\n    return () => {\n      window.removeEventListener('resize', resize);\n      clearTimeout(timeout.current);\n    };\n  }, [open]);\n\n  const click = event => {\n    if (event.target.localName === 'a') return;\n    event.stopPropagation();\n  };\n\n  const close = () => {\n    setActive(false);\n    timeout.current = setTimeout(() => onClose && onClose(), 300);\n  };\n\n  const classes = Utils.classes({\n    [styles.drawer]: true,\n    [styles.active]: active\n  });\n  return open && __jsx(\"div\", {\n    className: classes,\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles.content,\n    onClick: click,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, children));\n};\n\n_s(Drawer, \"nu4Bi1+HphCytdlXV95ZEUvHoFU=\");\n\n_c = Drawer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Drawer\");","map":{"version":3,"sources":["C:/projects/mine/htmlplus/core/packages/docs/src/components/drawer/drawer.tsx"],"names":["React","useEffect","useRef","useState","Utils","styles","Drawer","children","open","onClose","timeout","active","setActive","resize","event","target","innerWidth","close","window","addEventListener","current","setTimeout","removeEventListener","clearTimeout","click","localName","stopPropagation","classes","drawer","content"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,KAAT,QAAsB,OAAtB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,OAAO,MAAMC,MAA6B,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA;AAAlB,CAAD,KAAiC;AAAA;;AAE1E,QAAMC,OAAO,GAAGR,MAAM,CAAC,IAAD,CAAtB;AAEA,QAAM;AAAA,OAACS,MAAD;AAAA,OAASC;AAAT,MAAsBT,QAAQ,CAAC,KAAD,CAApC;;AAEA,QAAMU,MAAM,GAAIC,KAAD,IAAW;AAEtB,QAAI,CAACN,IAAL,EAAW;AAEX,QAAIM,KAAK,CAACC,MAAN,CAAaC,UAAb,GAA0B,IAA9B,EAAoC;AAEpCC,IAAAA,KAAK;AACR,GAPD;;AASAhB,EAAAA,SAAS,CACL,MAAM;AAEF,QAAI,CAACO,IAAL,EAAW;AAEPI,MAAAA,SAAS,CAAC,KAAD,CAAT;AACH,KAHD,MAIK;AAEDM,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCN,MAAlC;AAEAH,MAAAA,OAAO,CAACU,OAAR,GAAkBC,UAAU,CAAC,MAAMT,SAAS,CAAC,IAAD,CAAhB,EAAwB,GAAxB,CAA5B;AACH;;AAED,WAAO,MAAM;AAETM,MAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqCT,MAArC;AAEAU,MAAAA,YAAY,CAACb,OAAO,CAACU,OAAT,CAAZ;AACH,KALD;AAMH,GApBI,EAqBL,CAACZ,IAAD,CArBK,CAAT;;AAwBA,QAAMgB,KAAK,GAAIV,KAAD,IAAW;AAErB,QAAIA,KAAK,CAACC,MAAN,CAAaU,SAAb,KAA2B,GAA/B,EAAoC;AAEpCX,IAAAA,KAAK,CAACY,eAAN;AACH,GALD;;AAOA,QAAMT,KAAK,GAAG,MAAM;AAEhBL,IAAAA,SAAS,CAAC,KAAD,CAAT;AAEAF,IAAAA,OAAO,CAACU,OAAR,GAAkBC,UAAU,CAAC,MAAMZ,OAAO,IAAIA,OAAO,EAAzB,EAA6B,GAA7B,CAA5B;AACH,GALD;;AAOA,QAAMkB,OAAO,GAAGvB,KAAK,CAACuB,OAAN,CAAc;AAC1B,KAACtB,MAAM,CAACuB,MAAR,GAAiB,IADS;AAE1B,KAACvB,MAAM,CAACM,MAAR,GAAiBA;AAFS,GAAd,CAAhB;AAKA,SACIH,IAAI,IAAI;AAAK,IAAA,SAAS,EAAEmB,OAAhB;AAAyB,IAAA,OAAO,EAAEV,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACJ;AAAK,IAAA,SAAS,EAAEZ,MAAM,CAACwB,OAAvB;AAAgC,IAAA,OAAO,EAAEL,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKjB,QADL,CADI,CADZ;AAOH,CAjEM;;GAAMD,M;;KAAAA,M","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Utils } from 'utils';\nimport { DrawerProps } from './drawer.types';\nimport styles from './drawer.module.scss';\n\nexport const Drawer: React.FC<DrawerProps> = ({ children, open, onClose }) => {\n\n    const timeout = useRef(null);\n\n    const [active, setActive] = useState(false);\n\n    const resize = (event) => {\n\n        if (!open) return;\n\n        if (event.target.innerWidth < 1024) return;\n\n        close();\n    }\n\n    useEffect(\n        () => {\n\n            if (!open) {\n\n                setActive(false);\n            }\n            else {\n\n                window.addEventListener('resize', resize);\n\n                timeout.current = setTimeout(() => setActive(true), 100);\n            }\n\n            return () => {\n\n                window.removeEventListener('resize', resize);\n\n                clearTimeout(timeout.current);\n            }\n        },\n        [open]\n    );\n\n    const click = (event) => {\n\n        if (event.target.localName === 'a') return;\n\n        event.stopPropagation();\n    }\n\n    const close = () => {\n\n        setActive(false);\n\n        timeout.current = setTimeout(() => onClose && onClose(), 300);\n    }\n\n    const classes = Utils.classes({\n        [styles.drawer]: true,\n        [styles.active]: active\n    });\n\n    return (\n        open && <div className={classes} onClick={close}>\n            <div className={styles.content} onClick={click}>\n                {children}\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}